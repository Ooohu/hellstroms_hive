<?xml version="1.0" ?>

<!-- Some basic information, a tag that defines uniquely this analysis, and a topology that also defines it -->
<topology tag="nuance" name ="#nu_{e}" def = "1" bdtcut = "( 0.5, 0, 0, 0, 0, 0)"/> 
<filedir>/pnfs/uboone/persistent/users/markross/single_photon_persistent_data/vertexed_mcc9_v26/</filedir>

<!-- ================================================== BDT FILES [First the ones that we stack in things]==================================================== -->
<!--plot_on_top="true" means that the plot will not be considered as part of the ratio, and it will be just plotted on top-->
<bdtfile filename = "timing_MC_fullosc_may07_2.root" tag = "fullosc" hist_style = "hist" dirs = "" col = "(255,255,255)" linecol = "1" linestyle = "7" plot_name = "Best Fit" scale = "1.0" signal = "true" plot_on_top = "false" weight = "1">
    <definition>
        <cut> Entry$%2==0 </cut>
    </definition>
	<fixPOT> 6.639e19 </fixPOT>
</bdtfile>

<!-- DATA!!!!-->
<bdtfile filename = "electron_analysis/timing2.0_data_nue_07to19.root" tag = "data" hist_style = "hist" dirs = "" col = "(0.2,0.8,0.2)" plot_name = "Data" fillstyle = "3333" scale = "1">
    <definition>
		<cut>1</cut>
    </definition>
	<fixPOT> 18.75e20</fixPOT>
   <data type="OnBeam">
   </data>
</bdtfile>

<!-- ================================================== BDT FILES [Now the training files]==================================================== -->
<mva type="BDT" use="yes" tag = "AB" name ="All Background focused BDT" binning = "(36,0.9,1.0)">
    <method type = "XGBoost" use = "yes">
        <param> n_trees=2000</param>
        <param> tree_method=exact</param>
        <param> n_gpus=0</param>
        <param> objective=binary:logistic</param>
        <param> eval_metric=logloss</param>
        <param> min_child_weight=1</param> 
        <param> gamma=1.2</param>          <!--   Minimum reduction required to split . The larger gamma is, the more conservative the algorithm will be.    -->
        <param> max_depth=4</param>    <!-- How many layers deep each tree -->
        <param> eta=0.04</param>        <!-- Learning Rate -->
        <param> subsample=0.3</param> <!-- % of events passed to each tree -->
        <param> colsample_bytree= 0.95</param>   <!-- % of features that are passed to each tree  -->
        <param> verbosity=1</param>
    </method>
    <file
        bkg_train_tag= "fullosc" 
        bkg_test_tag = "fullosc"
        bkg_test_cut = "Entry$%5<2" 
        sig_train_tag= "fullosc"
        sig_test_tag = "fullosc"
        sig_test_cut = "Entry$%5<2"
        />
    <scan min = "0.2" max = "0.95" steps="160"/>
</mva>

<!-- ================================================== PRE-CUTS   ==================================================== -->

<!--
<precut def = "el.EnuQE<1250&amp;&amp;el.EnuQE>200" name = "EnuQE Cut"/>

<precut def = "miniPI0_mva>0.33 &amp;&amp; miniPI0_mva<0.66" name = " BDT cut"/>
<precut def = "el.UZ<0.9" name = "UZ Cut"/>
<precut def = "el.R<300" name = "R Cut"/>
<precut def = "el.EnuQE<1250&amp;&amp;el.EnuQE>200" name = "EnuQE Cut"/>
-->
<precut def = "el.EnuQE<1250&amp;&amp;el.EnuQE>200" name = "EnuQE Cut"/>

<!-- ============================================== Variables, BDT training and otherwise ====================================== -->
<!--group 0: observable; group1: special; group 3: BDT-->

<var def = "el.E" binning="(24,100,1300)" unit = "Visible Energy [MeV]" type = "d" logplot = "false"  training = ""  group = "0" minidef = "el.E" />


<!-- ==================================== Add systematics ====================================-->
<systematics tag = "BkgMC_Multism" dir = "/scratch/condor-tmp/klin/data_timing_root/systematic_files/" file = "07Det_BkgMC.root" tree = "MiniBooNE" var = "TMulMatWeightsChunk.data_.MultiWeight[0],TMulMatWeightsChunk.data_.MultiWeight[8]" varnam = "K0Prod,Hadronic" pot = "41.08e20" throws = "2"  isCV = "false" isMulthrows = "true" isMulfiles = "false" />

